image:
  pullSecrets:
  - name: private-registry
postInstall:
  labelNamespace:
    image:
      pullSecrets:
      - name: private-registry

violations:
  allowedAppArmorProfiles:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedCapabilities:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedDockerRegistries:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedFlexVolumes:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedHostFilesystem:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedIPs:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedProcMount:
    enabled: false
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedSecCompProfiles:
    enforcementAction: deny
    match:
      namespaces:
        - default
  allowedUsers:
    enforcementAction: deny
    match:
      namespaces:
        - default
  bannedImageTags:
    enforcementAction: deny
    match:
      namespaces:
        - default
  blockNodePort:
    enforcementAction: deny
    match:
      namespaces:
        - default
  containerRatio:
    enforcementAction: deny
    match:
      namespaces:
        - default
  hostNetworking:
    enforcementAction: deny
    match:
      namespaces:
        - default
  httpsOnly:
    enforcementAction: deny
    match:
      namespaces:
        - default
  imageDigest:
    enforcementAction: deny
    match:
      namespaces:
        - default
  namespacesHaveIstio:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noBigContainers:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noHostNamespace:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noPrivilegedContainers:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noPrivilegedEscalation:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noDefaultServiceAccount:
    enforcementAction: deny
    match:
      namespaces:
        - default
  noSysctls:
    enforcementAction: deny
    match:
      namespaces:
        - default
  podsHaveIstio:
    enforcementAction: deny
    match:
      namespaces:
        - default
  readOnlyRoot:
    enforcementAction: deny
    match:
      namespaces:
        - default
  requiredLabels:
    enforcementAction: deny
    match:
      namespaces:
        - default
  requiredProbes:
    enforcementAction: deny
    match:
      namespaces:
        - default
  restrictedTaint:
    enforcementAction: deny
    match:
      namespaces:
        - default
  selinuxPolicy:
    enforcementAction: deny
    match:
      namespaces:
        - default
  uniqueIngressHost:
    enforcementAction: deny
    match:
      namespaces:
        - default
  uniqueServiceSelector:
    enforcementAction: deny
    match:
      namespaces:
        - default
  volumeTypes:
    enforcementAction: deny
    match:
      namespaces:
        - default

bbtests:
  scripts:
    image: registry1.dso.mil/ironbank/opensource/kubernetes-1.21/kubectl:v1.21.1
    additionalVolumeMounts:
      - name: "{{ .Chart.Name }}-test-config"
        mountPath: /yaml
      - name: "{{ .Chart.Name }}-kube-cache"
        mountPath: /.kube/cache
    additionalVolumes:
      - name: "{{ .Chart.Name }}-test-config"
        configMap:
          name: "{{ .Chart.Name }}-test-config"
      - name: "{{ .Chart.Name }}-kube-cache"
        emptyDir: {}